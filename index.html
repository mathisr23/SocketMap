<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>


  <title>Map</title>
  <style>

  </style>
</head>

<body>
  <!-- <form>
        <h3>Marker1</h3>
        <label for="latitude1">Latitude:</label>
        <input id="latitude1" type="text" />
        <label for="longitude1">Longitude:</label>
        <input id="longitude1" type="text" />
      </form>
      <form>
        <h3>Marker2</h3>
        <label for="latitude2">Latitude:</label>
        <input id="latitude2" type="text" />
        <label for="longitude2">Longitude:</label>
        <input id="longitude2" type="text" />
      </form>
      <form>
        <h3>Marker3</h3>
        <label for="latitude3">Latitude:</label>
        <input id="latitude3" type="text" />
        <label for="longitude3">Longitude:</label>
        <input id="longitude3" type="text" />
      </form>
      <form>
        <h3>Arrivée</h3>
        <label for="latitude4">Latitude:</label>
        <input id="latitude4" type="text" />
        <label for="longitude4">Longitude:</label>
        <input id="longitude4" type="text" />
      </form> -->
  <header>
    <p>Arrivée à 13h :</p>
    <p>John doit partir à 12h<span id="depart1"></span>. Distance: <span id="distance1"></span> m</p>

    <p>Bob doit partir à 12h<span id="depart2"></span>. Distance: <span id="distance2"></span> m</p>

    <p>Patrick doit partir à 12h<span id="depart3"></span>. Distance: <span id="distance3"></span> m</p>

  </header>

  <section id="app">
    <div id="restau">
      <h2>Liste des restaurants</h2>

      <div class="col-md-4 text-center mt-3">
        <ul id="resto"></ul>
      </div>
    </div>
    <div id="map">
    </div>
    <div id="rooms">
      <h2>Rooms</h2>
      <div class="buttonsChat">

        <button id="personne1">John</button>
        <div id="myModal1" class="modal">
          <div class="modal-content">
            <span class="close">&times;</span>
            <p>John</p>
            <p>Restaurant Japonais</p>
            <p>arrive dans 15 min</p>
          </div>
        </div>

        <button id="personne2">Bob</button>
        <div id="myModal2" class="modal">
          <div class="modal-content">
            <span class="close">&times;</span>
            <p>Some text in the Modal..</p>
          </div>
        </div>

        <button id="personne3">Patrick</button>
        <div id="myModal3" class="modal">
          <div class="modal-content">
            <span class="close">&times;</span>
            <p>Some text in the Modal..</p>
          </div>
        </div>


      </div>
    </div>
  </section>

  <ul id="messages"></ul>
  <form id="form" action="">
    <input id="input" autocomplete="off" /><button>Send</button>
  </form>



  <script src="./script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.4/socket.io.js"
    integrity="sha512-YeeA/Qxn5hYdkukScTCNNOhTrv1C2RubAGButJ1rmgQwZf/HdRaCGl+JAVkqsqaNRaYNHdheiuKKuPf9mDcqKg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script
  src="https://code.jquery.com/jquery-3.6.1.min.js"
  integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
  crossorigin="anonymous"></script>
    

    <script>
      // Get the modal
      var modal = document.getElementById("myModal1");
      
      // Get the button that opens the modal
      var btn1 = document.getElementById("personne1");
      
      // Get the <span> element that closes the modal
      var span = document.getElementsByClassName("close")[0];
      
      // When the user clicks the button, open the modal 
      btn1.onclick = function() {
        modal.style.display = "block";
      }
      
      // When the user clicks on <span> (x), close the modal
      span.onclick = function() {
        modal.style.display = "none";
      }
      
      // When the user clicks anywhere outside of the modal, close it
      window.onclick = function(event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      }
      </script>


  <script>
    var socket = io('http://localhost:3000/');

    var messages = document.getElementById('messages');
    var form = document.getElementById('form');
    var input = document.getElementById('input');

    form.addEventListener('submit', function (e) {
      e.preventDefault();
      if (input.value) {
        socket.emit('chat message', input.value);
        input.value = '';
      }
    });

    socket.on('chat message', function (msg) {
      var item = document.createElement('li');
      item.textContent = msg;
      messages.appendChild(item);
      window.scrollTo(0, document.body.scrollHeight);
    });
  </script>
</body>

</html>